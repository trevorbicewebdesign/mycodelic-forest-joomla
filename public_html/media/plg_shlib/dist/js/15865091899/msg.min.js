/*! Copyright Weeblr llc 2020 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(e,o,n,t){function r(e){e.removeClass("wbl-spin").text("Error").addClass("wb-clr-alert")}function s(s){var i=s.data("element-id"),e=s.data("token"),o={uid:i};o[e]=1;t.post("index.php?option=com_ajax&plugin=shlib&method=removeMsg&format=json",o).done(function(o,e,n){try{"object"!=typeof o&&(o=JSON.parse(o)),"object"==typeof o?o.success?function(e){var o=t("#"+e),n=t(o.parent());o.slideUp(200,function(){o.remove(),n.children().length||n.parent().hide()})}(i):(console.log("ShLib: Ajax error: "+o.message),r(s)):console.log("wbLib: ajax error: no object in return")}catch(e){console.log("wbLib: ajax error decoding request response: "+e.message),console.debug(o),console.debug(e)}}).fail(function(e,o,n){console.log("wbLib: ajax error: "+o),console.debug(n),r(s)})}function i(e,o){var n=t(this).attr("id"),s=t("#wbl-msg-body-"+n);0==s.is(":visible")?(s.addClass("wbl-body-visible"),s.slideDown(300)):(s.slideUp(300),s.removeClass("wbl-body-visible"))}function l(e,o){var n=t(this);return n.html("x").addClass("wbl-spin"),s(n),!1}function c(){t(".wbl-msg-button-close").click(l),t(".wbl-container-msg-one-toggle").click(i)}t(n).ready(function(){try{c()}catch(e){console.log("Error setting up message center: "+e.message)}}),e.shlib=e.shlib||{},e.shlib.msgCenter={refreshActions:function(){c()}}}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
